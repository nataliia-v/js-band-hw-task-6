(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={todoItem:"TodoItem_todoItem__1hpbC",todoItemDone:"TodoItem_todoItemDone__3ozFf",title:"TodoItem_title__2evFb",description:"TodoItem_description__2vp90",container:"TodoItem_container__2okJV",priority:"TodoItem_priority__2SPke",iconDoneWrap:"TodoItem_iconDoneWrap__2ncu0",iconDone:"TodoItem_iconDone__2MKnx",dotsButton:"TodoItem_dotsButton__220cU"}},,,,,,,function(e,t,n){e.exports={wrapper:"ButtonDropdown_wrapper__3I2_W",options:"ButtonDropdown_options__6egQG",option:"ButtonDropdown_option__2RDTQ"}},,function(e,t,n){e.exports={header:"Header_header__1v0yI",headerName:"Header_headerName__1AAI4"}},function(e,t,n){e.exports={footer:"Footer_footer__7dIj9",footerName:"Footer_footerName__ervDN"}},function(e,t,n){e.exports={form:"TodoForm_form__3kTcS",buttons:"TodoForm_buttons__y5o-6"}},function(e,t,n){e.exports={wrapper:"ModalRoot_wrapper__1mUX1",modalContainer:"ModalRoot_modalContainer__f3Fa4"}},function(e,t,n){e.exports={app:"App_app__3BT4Y",mainContent:"App_mainContent__3msXo"}},,,,,,function(e,t,n){e.exports={wrapper:"FormField_wrapper__qBrXf"}},function(e,t,n){e.exports={wrapper:"Filters_wrapper__3QiyP"}},function(e,t,n){e.exports={wrapper:"TodoList_wrapper__2qUIv"}},,,,,function(e,t,n){e.exports=n(46)},,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(27),l=n.n(r),i=n(2),c=n(3),s=n(5),u=n(4),p=n(6),d=n(31),m=n(12),f=o.a.createContext({activeModal:null,openModal:null,closeModal:null});f.displayName="ModalContext";var h=f,v=n(18),b=n.n(v);var y=function(){return o.a.createElement("div",{className:b.a.header},o.a.createElement("h1",{className:b.a.headerName},"TODOList"))},O=n(19),E=n.n(O);var j=function(e){var t=e.internName;return o.a.createElement("div",{className:E.a.footer},o.a.createElement("p",{className:E.a.footerName},t))},_=n(10),g=n(34),C=n(28),D=n.n(C);var w=function(e){var t=e.label,n=e.control;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:D.a.wrapper},o.a.createElement("span",null,t,":"),n))};var I=function(e){var t=e.type,n=void 0===t?"text":t,a=e.name,r=e.value,l=e.placeholder,i=e.onChange,c=e.required,s=void 0!==c&&c;return o.a.createElement("input",{className:"form-control",type:n,name:a,value:r,placeholder:l,onChange:i,required:s})},k=[{label:"High",value:"high"},{label:"Normal",value:"normal"},{label:"Low",value:"low"}],N={label:"All",value:"all"},T=[N,{label:"Open",value:"open"},{label:"Done",value:"done"}],M=[N].concat(k),P=n(20),S=n.n(P);var x=function(e){var t=e.name,n=e.value,a=e.placeholder,r=e.onChange,l=e.rows,i=void 0===l?3:l;return o.a.createElement("textarea",{className:"form-control",name:t,value:n,placeholder:a,onChange:r,rows:i})};var A=function(e){var t=e.name,n=e.value,a=e.onChange,r=e.options;return o.a.createElement("select",{className:"form-control",name:t,value:n,onChange:a},r.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=function(){var e=n.props.initialValues;return{formValues:{id:e.id||Date.now(),done:e.done,title:e.title,description:e.description,priority:e.priority}}}(),n.handleChange=function(e){var t=e.currentTarget,a=t.name,o=t.value;n.setState((function(e){return{formValues:V({},e.formValues,Object(_.a)({},a,o))}}))},n.handleSubmit=function(e){e.preventDefault(),(0,n.props.onSubmit)(n.state.formValues)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.formValues,t=this.props.onClose;return o.a.createElement("form",{className:S.a.form,onSubmit:this.handleSubmit},o.a.createElement(w,{label:"Title",control:o.a.createElement(I,{name:"title",value:e.title,placeholder:"Title",onChange:this.handleChange,required:!0})}),o.a.createElement(w,{label:"Description",control:o.a.createElement(x,{name:"description",value:e.description,placeholder:"Description",onChange:this.handleChange})}),o.a.createElement(w,{label:"Priority",control:o.a.createElement(A,{name:"priority",value:e.priority,onChange:this.handleChange,options:k})}),o.a.createElement("div",{className:S.a.buttons},o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:t},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Save")))}}]),t}(o.a.Component);B.defaultProps={initialValues:{id:null,done:!1,title:"",description:"",priority:"high"}};var q=B,L=n(29),U=n.n(L);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state=function(){var e=n.props.filtersInitialValues;return{filters:{search:e.search,status:e.status,priority:e.priority}}}(),n.openModal=function(){var e=n.context,t=e.openModal,a=e.closeModal;t({component:q,componentProps:{onSubmit:n.handleTodoFormSubmit,onClose:a}})},n.handleTodoFormSubmit=function(e){var t=n.props.onAddTodoItem,a=n.context.closeModal;t(e),a()},n.handleChange=function(e){var t=n.props.onFiltersChange,a=e.currentTarget,o=a.name,r=a.value;n.setState((function(e){return{filters:W({},e.filters,Object(_.a)({},o,r))}}),(function(){var e=n.state.filters;t(e)}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.filters;return o.a.createElement("div",{className:U.a.wrapper},o.a.createElement(I,{name:"search",value:e.search,placeholder:"Search by title",onChange:this.handleChange}),o.a.createElement(A,{name:"status",value:e.status,onChange:this.handleChange,options:T}),o.a.createElement(A,{name:"priority",value:e.priority,onChange:this.handleChange,options:M}),o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.openModal},"Create"))}}]),t}(a.Component);H.contextType=h,H.defaultProps={filtersInitialValues:{search:"",status:N.value,priority:N.value}};var J=H,Q=n(30),X=n.n(Q),z=n(15),G=n.n(z),K=n(9),Y=n.n(K);var Z=function(){return o.a.createElement("button",{className:Y.a.dotsButton,type:"button"},"...")},$=n(16),ee=n.n($),te=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.toggleDropdown=function(){n.setState((function(e){return{open:!e.open}}))},n.handleOptionClick=function(){n.setState({open:!1})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorElement,n=e.options,a=this.state.open;return o.a.createElement("div",{className:ee.a.wrapper},o.a.createElement("div",{className:ee.a.anchor,onClick:this.toggleDropdown},o.a.createElement(t,null)),a&&o.a.createElement("div",{className:ee.a.options,onClick:this.handleOptionClick},n.map((function(e){return"boolean"!==typeof e.isAvailable||e.isAvailable?o.a.createElement("button",{key:e.label,type:"button",onClick:e.onClick,className:ee.a.option},e.label):null}))))}}]),t}(a.Component),ne=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleDone=function(){var e=n.props,t=e.id;(0,e.onDone)(t)},n.handleEdit=function(){var e=n.props,t=e.id;(0,e.onEdit)(t)},n.handleDelete=function(){var e=n.props,t=e.id;(0,e.onDelete)(t)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.done;return o.a.createElement("div",{className:G()(Y.a.todoItem,Object(_.a)({},Y.a.todoItemDone,a))},a&&o.a.createElement("div",{className:Y.a.iconDoneWrap},o.a.createElement("i",{className:G()(Y.a.iconDone,"fa fa-check-square-o")})),o.a.createElement("p",{className:Y.a.title},t),o.a.createElement("p",{className:Y.a.description},n),o.a.createElement("div",{className:Y.a.container},o.a.createElement("span",{className:Y.a.priority},this.priorityValue),o.a.createElement(te,{anchorElement:Z,options:this.todoItemOptions})))}},{key:"priorityValue",get:function(){var e=this.props.priority;return k.find((function(t){return t.value===e})).label}},{key:"todoItemOptions",get:function(){var e=this.props.done;return function(e){var t=e.canBeDone;return[{label:"Done",onClick:e.onDone,isAvailable:t},{label:"Edit",onClick:e.onEdit},{label:"Delete",onClick:e.onDelete}]}({onDone:this.handleDone,onEdit:this.handleEdit,onDelete:this.handleDelete,canBeDone:!e})}}]),t}(a.Component);var ae=function(e){var t=e.todoItems,n=e.onDone,a=e.onEdit,r=e.onDelete;return o.a.createElement("div",{className:X.a.wrapper},t.map((function(e){return o.a.createElement(ne,Object.assign({key:e.id,onDone:n,onEdit:a,onDelete:r},e))})))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var re=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={allTodoItems:[],filteredTodoItems:[],filters:{search:"",status:N.value,priority:N.value}},n.recalculate=function(){var e=n.state.filters,t=Object.keys(e).filter((function(t){return e[t]}));n.setState((function(n){return{filteredTodoItems:n.allTodoItems.filter((function(n){return t.every((function(t){switch(t){case"search":return new RegExp(e.search,"i").test(n.title);case"status":if(e.status===N.value)return!0;if("open"===e.status)return!n.done;if("done"===e.status)return n.done;break;case"priority":return e.priority===N.value||n.priority===e.priority;default:return!0}return null}))}))}}))},n.onFiltersChange=function(e){n.setState({filters:e})},n.onAddTodoItem=function(e){n.setState((function(t){var n=t.allTodoItems;return{allTodoItems:[].concat(Object(g.a)(n),[e])}}))},n.onDone=function(e){n.setState((function(t){return{allTodoItems:t.allTodoItems.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{done:t.id===e||t.done})}))}}))},n.handleEdit=function(e){var t=n.context.closeModal;n.setState((function(t){return{allTodoItems:t.allTodoItems.map((function(t){return t.id===e.id?e:t}))}})),t()},n.onEdit=function(e){var t=n.state.allTodoItems,a=n.context,o=a.openModal,r=a.closeModal,l=t.find((function(t){return t.id===e}));o({component:q,componentProps:{onSubmit:n.handleEdit,initialValues:l,onClose:r}})},n.onDelete=function(e){n.setState((function(t){return{allTodoItems:t.allTodoItems.filter((function(t){return t.id!==e}))}}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.recalculate()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.allTodoItems,o=n.filters;t.allTodoItems===a&&t.filters===o||this.recalculate()}},{key:"render",value:function(){var e=this.state,t=e.filteredTodoItems,n=e.filters;return o.a.createElement("div",null,o.a.createElement(J,{filtersInitialValues:n,onAddTodoItem:this.onAddTodoItem,onFiltersChange:this.onFiltersChange}),o.a.createElement(ae,{todoItems:t,onDone:this.onDone,onEdit:this.onEdit,onDelete:this.onDelete}))}}]),t}(a.Component);re.contextType=h;var le=re,ie=n(21),ce=n.n(ie),se=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onModalContainerClick=function(e){e.stopPropagation()},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.props.activeModal?document.body.classList.add("overflow-y-hidden"):document.body.classList.remove("overflow-y-hidden")}},{key:"render",value:function(){var e=this.props,t=e.activeModal,n=e.closeModal;if(!t)return null;var a=t.component,r=t.componentProps;return o.a.createElement("div",{className:ce.a.wrapper,onClick:n},o.a.createElement("div",{className:G()(ce.a.modalContainer,"card"),onClick:this.onModalContainerClick},o.a.createElement(a,r)))}}]),t}(o.a.Component),ue=n(22),pe=n.n(ue),de=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={activeModal:null},n.openModal=function(e){n.setState({activeModal:e})},n.closeModal=function(){n.setState({activeModal:null})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.activeModal;return o.a.createElement(h.Provider,{value:{activeModal:e,openModal:this.openModal,closeModal:this.closeModal}},o.a.createElement("div",{className:pe.a.app},o.a.createElement(y,null),o.a.createElement(d.a,null,o.a.createElement("div",{className:pe.a.mainContent},o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/todos",component:le}),o.a.createElement(m.a,{from:"/",to:"/todos",exact:!0}),o.a.createElement(m.b,{path:"*"},"Oops..not found")),o.a.createElement(se,{activeModal:e,closeModal:this.closeModal}))),o.a.createElement(j,{internName:"Nataliia Verbenska"})))}}]),t}(a.Component);n(45);l.a.render(o.a.createElement(de,null),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.a080f0db.chunk.js.map